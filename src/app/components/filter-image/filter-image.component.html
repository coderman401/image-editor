<div class="filter-container">
    <div class="cards-wrapper">
        <mat-card class="card">
                <div>
                    <div id="addFilter" >
                        <img *ngIf="!isWatermark" [src]="imageChanged" />
                    </div>
                    <div id="addCanvasWatermark" *ngIf="isWatermark"></div>
                </div>
                <div class="scrolling-wrapper">
                    <ul class="scroll-horizontal">
                        <li class="card-filter" *ngFor="let filter of filters; let i = index;">
                            <app-filter-list [src]="imageChanged" [selected]="selected === i" [filter]="filter" (applyFilter)="applyFilter($event)"></app-filter-list>
                        </li>
                    </ul>
                </div>
            <div class="actions" style="width: 100%; justify-content: space-evenly;">
                <app-button [type]="'icon-with-text'" [icon]="'arrow_back'" [text]="'back'" (clickButton)="goBack()"></app-button>
                <app-button [type]="'icon-with-text'" [icon]="'save_alt'" [text]="'save'" (clickButton)="saveImage()"></app-button>
            </div>
        </mat-card>

        <mat-card class="card">
            <mat-label>Filter: </mat-label> <mat-label class="filter-name">{{ currentFilter?.name?.split('-')[1] }}</mat-label>
            <ul style="list-style: none;">
                <li>
                    <mat-label>Brightness</mat-label>
                    <mat-slider color="primary"
                        (change)="onInputChange($event)"
                        [max]="200"
                        [min]="0"
                        [thumbLabel]="true"
                        [(ngModel)]="brightness">
                    </mat-slider>
                    <mat-label>{{ brightness }}</mat-label>
                </li>
                <li>
                    <mat-label>Contrast</mat-label>
                    <mat-slider color="primary"
                        (change)="onInputChange($event)"
                        [max]="200"
                        [min]="0"
                        [thumbLabel]="true"
                        [(ngModel)]="contrast">
                    </mat-slider>
                    <mat-label>{{ contrast }}</mat-label>
                </li>
                <li>
                    <mat-label>GrayScale</mat-label>
                    <mat-slider color="primary"
                        (change)="onInputChange($event)"
                        [max]="100"
                        [min]="0"
                        [thumbLabel]="true"
                        [(ngModel)]="grayScale">
                    </mat-slider>
                    <mat-label>{{ grayScale }}</mat-label>
                </li>
                <li>
                    <mat-label>Hue Rotate</mat-label>
                    <mat-slider color="primary"
                        (change)="onInputChange($event)"
                        [max]="360"
                        [min]="-360"
                        [thumbLabel]="true"
                        [(ngModel)]="hueRotate">
                    </mat-slider>
                    <mat-label>{{ hueRotate }}</mat-label>
                </li>
                <li>
                    <mat-label>Saturate</mat-label>
                    <mat-slider color="primary"
                        (change)="onInputChange($event)"
                        [max]="200"
                        [min]="0"
                        [thumbLabel]="true"
                        [(ngModel)]="saturate">
                    </mat-slider>
                    <mat-label>{{ saturate }}</mat-label>
                </li>
                <li>
                    <mat-label>Sepia</mat-label>
                    <mat-slider color="primary"
                        (change)="onInputChange($event)"
                        [max]="100"
                        [min]="0"
                        [thumbLabel]="true"
                        [(ngModel)]="sepia">
                    </mat-slider>
                    <mat-label>{{ sepia }}</mat-label>
                </li>
            </ul>
            <div class="watermark">
                <mat-checkbox (change)="addRemoveWatermark($event)" class="mat-padding" color="primary" [(ngModel)]="isWatermark">Watermark</mat-checkbox>
                <div class="form-group">
                    <mat-form-field *ngIf="isWatermark" >
                        <input (keyup)="changeWatermark($event)" matInput placeholder="add watermakr" [(ngModel)]="watermarkText" />
                    </mat-form-field>
                    <!-- <mat-form-field *ngIf="isWatermark" >
                        <input (keyup)="changeWatermark($event)" matInput placeholder="fontsize" [(ngModel)]="watermarkTextSize" />
                    </mat-form-field> -->
                    <mat-form-field *ngIf="isWatermark" >
                        <input (change)="changeWatermark($event)" type="color" matInput placeholder="color" [(ngModel)]="watermarkColor" />
                    </mat-form-field>
                </div>
                <!-- <mat-form-field *ngIf="isWatermark" >
                    <input (change)="changeWatermark($event)" type="number" min="0" max="1" matInput placeholder="aplha(opacity)" [(ngModel)]="watermarkAlpha" />
                </mat-form-field> -->
            </div>
        </mat-card>
    </div>

</div>
